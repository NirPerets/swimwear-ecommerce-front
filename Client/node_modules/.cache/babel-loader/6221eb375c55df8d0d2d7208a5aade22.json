{"ast":null,"code":"var _jsxFileName = \"/Users/nirperets/Desktop/Projects/E-Commerce Swimwear Project/Client/src/Snippets/CartDrawer.js\";\nimport { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Icon_Close from '../Icons/Icon_Close';\nimport CartLine from \"./CartLine\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CartDrawer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.retrieveCart = () => {\n      let cart = JSON.parse(localStorage.getItem('cart'));\n      let total = 0;\n\n      if (cart != null) {\n        if (cart.length > 0) {\n          cart.map(product => {\n            total += parseInt(product.product.price);\n          });\n        }\n      }\n\n      this.setState({\n        cart: cart,\n        total: total\n      });\n    };\n\n    this.state = {\n      noteActive: false,\n      cart: [],\n      total: 0\n    };\n    this.body = document.querySelector('body');\n\n    this.toggleNote = () => {\n      this.setState(prevState => ({\n        noteActive: !prevState.noteActive\n      }));\n    };\n\n    this.closeCart = () => {\n      this.body.style.overflowY = \"auto\";\n      this.props.toggleCart(false);\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props != prevProps) {\n      this.retrieveCart();\n    }\n  }\n\n  componentDidMount() {\n    this.retrieveCart();\n  }\n\n  render() {\n    if (this.state.cart === null) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__drawer\" + (this.props.cartActive ? ' open' : ''),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading__wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \".lds-ring\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false);\n    }\n\n    if (this.state.cart.length < 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__drawer\" + (this.props.cartActive ? ' open' : ''),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__header heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.closeCart,\n            className: \"cart__close\",\n            children: Icon_Close\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading empty__cart\",\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__footer\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"btn btn__primary\",\n            children: \"Continue Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart__drawer\" + (this.props.cartActive ? ' open' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__header heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.closeCart,\n          className: \"cart__close\",\n          children: Icon_Close\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart_announcement\",\n        children: this.state.total >= 250 ? 'YOU ARE ELIGIBLE FOR FREE SHIPPING!' : 'SPEND $' + (250 - this.state.total).toFixed(0) + ' MORE AND GET FREE SHIPPING!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__products\",\n        children: this.state.cart.map((product, index) => {\n          return /*#__PURE__*/_jsxDEV(CartLine, {\n            retrieveCart: this.retrieveCart,\n            product: product,\n            cart: this.state.cart,\n            index: index\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.toggleNote,\n          className: \"cart__note__toggle\",\n          children: \"Add Order Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart__policies\",\n          children: \"Shipping & taxes calculated at checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/checkout\",\n          className: \"btn btn__primary cart_checkout\",\n          children: [\"Checkout\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"Button__SeparatorDot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), \"$\", this.state.total.toFixed(2), \" USD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart__note\" + (this.state.noteActive ? ' open' : ''),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading\",\n          children: \"Add Order Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          placeholder: \"How can we help you?\",\n          className: \"note_textarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.toggleNote,\n          className: \"btn btn__primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CartDrawer;","map":{"version":3,"sources":["/Users/nirperets/Desktop/Projects/E-Commerce Swimwear Project/Client/src/Snippets/CartDrawer.js"],"names":["Component","Link","Icon_Close","CartLine","CartDrawer","constructor","props","retrieveCart","cart","JSON","parse","localStorage","getItem","total","length","map","product","parseInt","price","setState","state","noteActive","body","document","querySelector","toggleNote","prevState","closeCart","style","overflowY","toggleCart","componentDidUpdate","prevProps","componentDidMount","render","cartActive","toFixed","index"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport Icon_Close from '../Icons/Icon_Close';\r\nimport CartLine from \"./CartLine\";\r\n\r\nclass CartDrawer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props != prevProps) {\r\n            this.retrieveCart()\r\n        }\r\n    }\r\n\r\n    retrieveCart = () => {\r\n        let cart = JSON.parse(localStorage.getItem('cart'))\r\n        let total = 0;\r\n\r\n        if(cart != null) {\r\n            if(cart.length > 0) {\r\n                cart.map(product => {\r\n                    total += parseInt(product.product.price)\r\n                })\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            cart: cart,\r\n            total: total\r\n        })\r\n    }\r\n\r\n    state = {\r\n        noteActive: false,\r\n        cart: [],\r\n        total: 0,\r\n    }\r\n\r\n    body = document.querySelector('body')\r\n\r\n    toggleNote = () => {\r\n        this.setState(prevState => ({\r\n            noteActive: !prevState.noteActive\r\n        }));\r\n    }\r\n\r\n    closeCart = () => {\r\n        this.body.style.overflowY = \"auto\"\r\n        this.props.toggleCart(false)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveCart()\r\n    }\r\n\r\n    render() {\r\n        if(this.state.cart === null) {\r\n            return(\r\n                <>\r\n                    <div className={\"cart__drawer\" + (this.props.cartActive ? ' open' : '')}>\r\n                        <div className=\"loading__wrapper\">\r\n                            <div className=\".lds-ring\"></div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n\r\n        if(this.state.cart.length < 1) {\r\n            return(\r\n                <div className={\"cart__drawer\" + (this.props.cartActive ? ' open' : '')}>\r\n                    <div className=\"cart__header heading\">\r\n                        <div>Cart</div>\r\n                        <button onClick={ this.closeCart } className=\"cart__close\">{ Icon_Close }</button>\r\n                    </div>\r\n                    <div className=\"heading empty__cart\">Your cart is empty</div>\r\n                    <div className=\"cart__footer\">\r\n                        <a href=\"#\" className=\"btn btn__primary\">\r\n                            Continue Shopping\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div className={\"cart__drawer\" + (this.props.cartActive ? ' open' : '')}>\r\n                <div className=\"cart__header heading\">\r\n                    <div>Cart</div>\r\n                    <button onClick={ this.closeCart } className=\"cart__close\">{ Icon_Close }</button>\r\n                </div>\r\n                <div className=\"cart_announcement\">\r\n                    {\r\n                        this.state.total >= 250 ?\r\n                        'YOU ARE ELIGIBLE FOR FREE SHIPPING!' :\r\n                        ('SPEND $' + (250 - this.state.total).toFixed(0) +' MORE AND GET FREE SHIPPING!')\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"cart__products\">\r\n                    {\r\n                        this.state.cart.map((product, index) => {\r\n                            return(\r\n                                <CartLine retrieveCart={ this.retrieveCart } key={ index } product={ product } cart={ this.state.cart } index={ index } />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"cart__footer\">\r\n                    <button onClick={ this.toggleNote } className=\"cart__note__toggle\">Add Order Note</button>\r\n                    <div className=\"cart__policies\">Shipping & taxes calculated at checkout</div>\r\n                    <Link to=\"/checkout\" className=\"btn btn__primary cart_checkout\">\r\n                        Checkout\r\n                        <span className=\"Button__SeparatorDot\"></span>\r\n                        ${ this.state.total.toFixed(2) } USD\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={\"cart__note\" + (this.state.noteActive ? ' open' : '')}>\r\n                    <div className=\"heading\">Add Order Note</div>\r\n                    <textarea type=\"text\" placeholder=\"How can we help you?\" className=\"note_textarea\" />\r\n                    <button onClick={ this.toggleNote } className=\"btn btn__primary\">Save</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CartDrawer"]},"metadata":{},"sourceType":"module"}